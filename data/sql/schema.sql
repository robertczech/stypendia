CREATE TABLE dochod_osoby (id BIGINT AUTO_INCREMENT, osoba_id BIGINT NOT NULL, typ VARCHAR(255) NOT NULL, wartosc FLOAT(18, 2) NOT NULL, INDEX osoba_id_idx (osoba_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE dochod_rodziny (id BIGINT AUTO_INCREMENT, rodzinay_id BIGINT NOT NULL, typ VARCHAR(255) NOT NULL, wartosc FLOAT(18, 2), INDEX rodzinay_id_idx (rodzinay_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE osoba (id BIGINT AUTO_INCREMENT, rodzinay_id BIGINT NOT NULL, typ VARCHAR(255), immie VARCHAR(255) NOT NULL, nazwisko VARCHAR(255) NOT NULL, szkala VARCHAR(255), klasa BIGINT, ziemia FLOAT(8, 4) DEFAULT 0, INDEX rodzinay_id_idx (rodzinay_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE rodzina (id BIGINT AUTO_INCREMENT, stpel BIGINT, immie VARCHAR(255) NOT NULL, nazwisko VARCHAR(255) NOT NULL, miescowosc VARCHAR(255) NOT NULL, kod VARCHAR(6) NOT NULL, ul VARCHAR(255) NOT NULL, dom VARCHAR(255) NOT NULL, lokal BIGINT, telefon VARCHAR(255), decyzja LONGTEXT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE stawqka (id BIGINT AUTO_INCREMENT, typ VARCHAR(255) NOT NULL UNIQUE, wartosc BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE stypedja (id BIGINT AUTO_INCREMENT, typ VARCHAR(255) NOT NULL UNIQUE, osoby BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
ALTER TABLE dochod_osoby ADD CONSTRAINT dochod_osoby_osoba_id_osoba_id FOREIGN KEY (osoba_id) REFERENCES osoba(id) ON DELETE CASCADE;
ALTER TABLE dochod_rodziny ADD CONSTRAINT dochod_rodziny_rodzinay_id_rodzina_id FOREIGN KEY (rodzinay_id) REFERENCES rodzina(id) ON DELETE CASCADE;
ALTER TABLE osoba ADD CONSTRAINT osoba_rodzinay_id_rodzina_id FOREIGN KEY (rodzinay_id) REFERENCES rodzina(id) ON DELETE CASCADE;
